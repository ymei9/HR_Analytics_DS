---
title: "BA 810 Project"
author: "Team 6"
date: "9/27/2021"
output: html_document
---
# Features
`enrollee_id` : Unique ID for candidate

`city`: City code

`city_development_index` : Developement index of the city (scaled)

`gender`: Gender of candidate

`relevent_experience`: Relevant experience of candidate

`enrolled_university`: Type of University course enrolled if any

`education_level`: Education level of candidate

`major_discipline` :Education major discipline of candidate

`experience`: Candidate total experience in years

`company_size`: No of employees in current employer's company

`company_type` : Type of current employer

`lastnewjob`: Difference in years between previous job and current job

`training_hours`: training hours completed

`target`: 0 – Not looking for job change, 1 – Looking for a job change

## Load the dataset
```{r}
library(data.table)
library(ggplot2)
dd <- fread('./aug_train.csv')
str(dd)
```


```{r}
# how many rows and columns
dim(dd)

# basic stats
summary(dd)

nrow(dd[,2])

# number of rows
nrow(dd)

# number of columns
ncol(dd)

# attributes of the data table
#attributes(dd)

# col names + row names
colnames(dd)
#row.names(dd)

```

# Summary of the missing values-1
```{r}
#Looking for the unique value
unique(dd[,2])
sapply(dd, function(x) sum(is.null(x) | x == ''))
```





# Summary of the missing values-2

```{r}
sum(dd == '')

check_missing <- function(x) {  
  sum(is.null(x) | x == '')}
a <- data.frame(sapply(dd, check_missing))
setDT(a, keep.rownames = TRUE)[]
colnames(a) <- c ('variable_name', 'the_count_of_missing_values')

a[the_count_of_missing_values > 0][order(-the_count_of_missing_values)]

```

# Summary of notnull values

```{r}
check_notnull <- function(x) {  
  sum(x != '')}
b <- setDT(data.frame(sapply(dd, check_notnull)),  keep.rownames = TRUE)
colnames((b))
b[,.(rn,(sapply.dd..check_notnull.))] [order(V2)]
```

# Specific info of each column
```{r}
for (i in colnames(dd))
{
print(unique(dd[, i, with = FALSE]))
}

for (i in colnames(dd))
{
print((dd[, .N, by = i ]))
}

```
# Fill the missing data

company_type	6140			
company_size	5938			
gender	4508			
major_discipline	2813			
education_level	460			
last_new_job	423			
enrolled_university	386	
experience	65
```{r}
# company_type	6140, fill with the mode value
company_type_mode <- dd[, max(.N), by = company_type][V1 == max(V1),company_type]
dd_cleaned <- dd[(company_type == ''), company_type := company_type_mode]
print((dd_cleaned[, .N, by = company_type]))


# company_size 5938, fill with the mode value

dd_cleaned <- dd[(company_size == '10/49'), company_size := '10-49' ]
company_size_mode <-dd[company_size != '', max(.N), by = company_size][V1 == max(V1),company_size]
dd_cleaned <- dd[(company_size == ''), company_size := company_size_mode]
print((dd_cleaned[, .N, by = company_size]))


# gender	4508, classified these unknown gender as other

dd_cleaned <- dd[gender == '', gender := 'Other' ]
print((dd_cleaned[, .N, by = gender]))


# major_discipline	2813, fill with the mode value
major_discipline__mode <-dd[major_discipline != '', max(.N), by = major_discipline][V1 == max(V1),major_discipline]
dd_cleaned <- dd[(major_discipline == ''), major_discipline := major_discipline__mode]
print((dd_cleaned[, .N, by = major_discipline]))


# education_level	460, fill with the "Primary School"
dd_cleaned <- dd[(education_level == ''), education_level :=  'Primary School']
print((dd_cleaned[, .N, by = education_level]))


# last_new_job	423	, fill with the mode value
last_new_job_mode <-dd[last_new_job != '', max(.N), by = last_new_job][V1 == max(V1),last_new_job]
dd_cleaned <- dd[(last_new_job == ''), last_new_job := last_new_job_mode]
print((dd_cleaned[, .N, by = last_new_job]))


# enrolled_university	386	
enrolled_university_mode <-dd[enrolled_university!= '', max(.N), by = enrolled_university][V1 == max(V1),enrolled_university]
dd_cleaned <- dd[(enrolled_university == ''),enrolled_university := enrolled_university_mode]
print((dd_cleaned[, .N, by = enrolled_university]))




# experience	65, classified NA as '<1'
dd_cleaned[experience == '', experience := NA]

dd_cleaned[is.na(experience), experience]

dd_cleaned[is.na(experience) , experience := '<1']
print((dd_cleaned[, .N, by = experience]))









```








